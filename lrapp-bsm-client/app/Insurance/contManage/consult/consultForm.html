<form class="form-horizontal" name="appForm" verify-scope="tipStyle: 1" ng-if="form">
    <div class="lr-toolbar">
        <div class="btn-group">
            <button class="btn btn-azure" type="button" ng-click="onSave()"
                    ng-verify="{control:'appForm',disabled:false,tipStyle:1}" ng-if="!isGrid&&isEdit">
                <i class="fa fa-save"></i>
                <span>保存</span>
            </button>
            <button class="btn btn-azure" ng-click="onCancel()" ng-if="!isGrid&&isEdit">
                <i class="fa fa-undo"></i>
                <span>取消</span>
            </button>
            <button class="btn btn-azure" ng-click="onSubmit()" ng-if="!isEdit&&(VO.billstatus==31||VO.billstatus==36)">
                <i class="ti-save"></i>
                <span>提交</span>
            </button>
            <button class="btn btn-azure" ng-click="onAudit()" ng-if="!isEdit&&(VO.billstatus==33||VO.billstatus==32)">
                <i class="ti-check"></i>
                <span>审核</span>
            </button>
            <button class="btn btn-azure" ng-click="onRecall()" ng-if="!isEdit&&(VO.billstatus==33||VO.billstatus==32)">
                <i class="ti-check"></i>
                <span>撤回</span>
            </button>
            <button class="btn btn-azure" ng-click="onLinkAuditFlow()" ng-if="!isEdit">
                <i class="ti-share-alt"></i>
                <span>查看流程图</span>
            </button>
            <button class="btn btn-azure" ng-click="onEdit()" ng-if="!isEdit&&(VO.billstatus==31||VO.billstatus==36)">
                <i class="fa fa-edit"></i>
                <span>修改</span>
            </button>
            <button class="btn btn-azure" ng-click="onBack()">
                <i class="fa fa-chevron-left"></i>
                <span>返回</span>
            </button>
            <button class="btn btn-azure" ng-click="onTemporary(VO)" ng-show="!isGrid&&isEdit">
                <i class="fa fa-save"></i>
                <span>暂存</span>
            </button>
        </div>
    </div>
    <div class="lr-contant">
        <div class="form-group">
            <div class="col-md-4">
                <label class="col-md-5 control-label">合同信息编号：</label>
                <div class="col-md-7">
                    <input class="form-control" ng-disabled="true" type="text" ng-model="VO.vbillno">
                </div>
            </div>
            <div class="col-md-4">
                <label class="col-md-5 control-label">合同建立公司：</label>
                <div class="col-md-7">
                    <input class="form-control" ng-disabled="true" ng-model="VO.pkCorp.name" type="text">
                </div>
            </div>
            <div class="col-md-4">
                <label class="col-md-5 control-label lr-verify">业务/项目名称：</label>
                <div class="col-md-7">
                    <input class="form-control" ng-verify ng-disabled="isDisabled" ui-popup-ref="projectRef"
                           url="'projectAllRef/queryForGrid'" ng-click="" popup-model="VO"
                           popup-model-field="'pkProject'" popup-model-value="param"
                           ng-model="VO.pkProject.c_proname" type="text" placeholder="">
                </div>
            </div>
        </div>
        <div class="form-group">
            <div class="col-md-4">
                <label class="col-md-5 control-label">合同建立部门：</label>
                <div class="col-md-7">
                    <input class="form-control" ng-disabled="true" ng-model="VO.builddept.name" type="text">
                </div>
            </div>
            <div class="col-md-4">
                <label class="col-md-5 control-label">立项号：</label>
                <div class="col-md-7">
                    <input class="form-control" ng-disabled="true" type="text" ng-model="VO.projectinfo">
                </div>
            </div>
            <div class="col-md-4">
                <label class="col-md-5 control-label lr-verify">客户名称：</label>
                <div class="col-md-7">
                    <input class="form-control" ng-verify ng-disabled="isDisabled" ui-popup-ref
                           url="'customerRef/queryForGrid'" ng-click="" popup-model="VO"
                           popup-model-field="'pkCustomer'"
                           ng-model="VO.pkCustomer.name" type="text" placeholder="">
                </div>
            </div>
        </div>
        <div class="form-group">

            <div class="col-md-4">
                <label class="col-md-5 control-label lr-verify">客户地址：</label>
                <div class="col-md-7">
                    <input class="form-control" ng-verify ng-disabled="isDisabled" type="text"
                           ng-model="VO.customeraddr" ng-verify="{max:100}">
                </div>
            </div>
        </div>
        <div class="form-group">
            <div class="col-md-4">
                <label class="col-md-5 control-label lr-verify">客户产权关系：</label>
                <div class="col-md-7">
                    <input class="form-control" ng-disabled="true" ui-popup-ref ng-verify="{ required: false,max:20}"
                           url="'projectKindTreeRef/queryForGrid'" ng-click="" popup-model="VO"
                           popup-model-field="'pkC0Tradetype'"
                           ng-verify
                           is-tree="true"
                           ng-model="VO.pkC0Tradetype.name" type="text" placeholder="">
                </div>
            </div>

            <div class="col-md-4">
                <label class="col-md-5 control-label lr-verify">业务分类：</label>
                <div class="col-md-7">
                    <input class="form-control" ng-disabled="true" ui-popup-ref
                           url="'busiType/queryForGrid'" ng-click="" popup-model="VO"
                           popup-model-field="'busi_type'" popup-model-value="VO.pkC0Tradetype"
                           ng-verify
                           is-tree="true"
                           ng-model="VO.busi_type.name" type="text" placeholder="">
                </div>
            </div>
            <div class="col-md-4">
                <label class="col-md-5 control-label lr-verify">咨询类别：</label>
                <div class="col-md-7">
                    <select class="form-control" ng-verify ng-disabled="isDisabled" ng-model="VO.typeconsultNO"
                            required
                            ng-options="item.id as item.name for item in SELECT.CONSULTTYPE">
                        <option value="">--请选择咨询类别--</option>
                    </select>
                </div>
            </div>
            <!--<div class="col-md-4">-->
                <!--<label class="col-md-5 control-label lr-verify">2018计划值：</label>-->
                <!--<div class="col-md-7">-->
                    <!--<select class="form-control" ng-disabled="false" ng-model="VO.temporaryPlan"-->
                            <!--ng-options="item.id as item.name for item in SELECT.TEMPORARY_PLAN">-->
                        <!--<option value="">&#45;&#45;请选择2018计划值&#45;&#45;</option>-->
                    <!--</select>-->
                <!--</div>-->
            <!--</div>-->
        </div>
        <div class="form-group">
            <div class="col-md-4">
                <label class="col-md-5 control-label lr-verify">合同号：</label>
                <div class="col-md-7">
                    <input class="form-control" ng-verify="{ max:100}" ng-disabled="isDisabled" type="text"
                           ng-model="VO.consultinfo">
                </div>
            </div>

            <div class="col-md-4">
                <label class="col-md-5 control-label lr-verify">合同起始日期：</label>
                <div class="col-md-7">
                    <input class="form-control" ng-verify required ng-disabled="isDisabled" wdate-picker type="text"
                           ng-model="VO.newdate" >
                </div>
            </div>
            <div class="col-md-4">
                <label class="col-md-5 control-label lr-verify">合同结束日期：</label>
                <div class="col-md-7">
                    <input class="form-control" ng-verify required ng-disabled="isDisabled" wdate-picker type="text"
                           ng-model="VO.enddate">
                </div>
            </div>
        </div>
        <div class="form-group">
            <div class="col-md-4">
                <label class="col-md-5 control-label lr-verify">应收合同费总期数：</label>
                <div class="col-md-7">
                    <input class="form-control" ng-verify ="{max:2}" ng-disabled="isDisabled" type="text" ng-model="VO.consultperiod">
                </div>
            </div>
            <div class="col-md-4">
                <label class="col-md-5 control-label">咨询费总额：</label>
                <div class="col-md-7">
                    <input class="form-control" ng-disabled="isDisabled" format-number type="text" ng-blur="ctotalBlur()" ng-model="VO.ctotal">
                </div>
            </div>
            <div class="col-md-4">
                <label class="col-md-5 control-label">未收咨询费总额：</label>
                <div class="col-md-7">
                    <input class="form-control" ng-disabled="true" format-number type="text" ng-model="VO.unpayconsulttotal">
                </div>
            </div>
        </div>
        <div class="form-group">
        </div>

        <!--</accordion-group>
    </accordion>-->
    </div>
    <div>
        <div class="pull-right lr-mr10 lr-mt10">
            <button class="btn btn-sm btn-info" ng-click="onUploads();" ng-show="upOrDown">上传</button>
            <button class="btn btn-sm btn-info" ng-show="isEdit&&upOrDown" ng-click="onDeleteLine();">减行</button>
            <button class="btn btn-sm btn-info" ng-click="onDownLoads();" ng-show="upOrDown">下载</button>
        </div>
        <tabset justified="false">
            <tab index="1" heading="收付款信息" select="selectTab('paymentGridOptions')">
                <div ui-grid="paymentGridOptions" ui-grid-edit ui-grid-cellnav ui-grid-selection ui-grid-auto-resize
                     ui-grid-resize-columns class="grid" style="height: 200px"></div>
            </tab>
            <!--<tab index="2" heading="附件信息" select="selectTab('assistantGridOptions')">-->
            <!--<div ui-grid="assistantGridOptions" ui-grid-edit ui-grid-cellnav ui-grid-selection ui-grid-auto-resize ui-grid-resize-columns class="grid" style="height: 200px"></div>-->
            <!--</tab>-->
            <tab index="3" heading="附件信息" select="selectTab('dealAttachmentBGridOptions')">
                <div ui-grid="dealAttachmentBGridOptions" ui-grid-edit ui-grid-cellnav ui-grid-selection
                     ui-grid-auto-resize ui-grid-resize-columns class="grid" style="height: 200px"></div>
            </tab>
        </tabset>
    </div>
    <accordion class="" close-others="oneAtATime">
        <accordion-group is-open="false" class="lr-page-bg-gray">
            <accordion-heading class="lr-page-bg-white">
                <div class="btn lr-page-bg-indigo">
                    <i class="fa fa-hand-o-up lr-page-color" aria-hidden="true"></i>
                    <span class="lr-page-color" ng-bind="getDisName('操作信息','')"></span>
                </div>
                <i class="fa pull-right fa-chevron-circle-down lr-arrow-color"
                   ng-class="{'glyphicon-chevron-down': status.open, 'glyphicon-chevron-right': !status.open}"></i>
            </accordion-heading>
            <div class="form-group">
                <div class="col-md-4">
                    <label class="col-md-5 control-label">单据状态：</label>
                    <div class="col-md-7 div-cao-zuo">
                        {{VO.billstatus | SELECT_BILLSTATUS}}
                    </div>
                </div>
                <div class="col-md-4">
                    <label class="col-md-5 control-label">经办人：</label>
                    <div class="col-md-7 div-cao-zuo">
                        {{VO.pkOperator.name}}
                    </div>
                </div>
                <div class="col-md-4">
                    <label class="col-md-5 control-label">制单日期：</label>
                    <div class="col-md-7 div-cao-zuo">
                        {{VO.operateDate | date_cell_date}}
                    </div>
                </div>
            </div>
            <div class="form-group">
                <div class="col-md-4">
                    <label class="col-md-5 control-label">业务单位：</label>
                    <div class="col-md-7 div-cao-zuo">
                        {{VO.pkOrg.name}}
                    </div>
                </div>
            </div>
        </accordion-group>
    </accordion>
</form>
